{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createCard = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) => {\n  return `<li class='image-item'>\n    <div class='card-wrapper'>\n      <div class='image-wrapper'>\n        <a class='card-link' href=${largeImageURL}>\n          <img src=${webformatURL} alt='${tags}'>\n        </a>\n      </div>\n      <div class='card-content'>\n        <ul class='stats-list'>\n          <li class='stats-item'><div><span>Likes</span><span>${likes}</span></div></li>\n          <li class='stats-item'><div><span>Views</span><span>${views}</span></div></li>\n          <li class='stats-item'><div><span>Comments</span><span>${comments}</span></div></li>\n          <li class='stats-item'><div><span>Downloads</span><span>${downloads}</span></div></li>\n        </ul>\n      </div>\n    </div>\n  </li>`;\n};\n\nexport const appendCards = (ulElem, cards) => {\n  ulElem.insertAdjacentHTML('afterbegin', cards);\n};\n\nconst loaderRef = document.querySelector('.loader');\n\nexport function showLoader() {\n  loaderRef.style.display = 'block';\n}\n\nexport function hideLoader() {\n  loaderRef.style.display = 'none';\n}\n","import { showLoader } from './render-functions';\n\nconst params = new URLSearchParams({\n  key: '47568770-df67670bdc8e06478abf0c27f',\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: true,\n});\n\nconst url = `https://pixabay.com/api/?${params}`;\n\nexport default function getImages(query) {\n  showLoader();\n  return fetch(`${url}&q=${query}`).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport getImages from './js/pixabay-api';\nimport { createCard, appendCards, hideLoader } from './js/render-functions';\n\nconst formRef = document.querySelector('.search-form');\nconst inputRef = document.querySelector('.search-input');\nconst ulElemRef = document.querySelector('.images-list');\n\nformRef.addEventListener('submit', e => handleSubmit(e));\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  if (!e.target.search.value.trim()) {\n    iziToast.show({\n      title: 'Warning',\n      message: 'Please fill the field!',\n      position: 'topRight',\n      color: 'red',\n    });\n    return;\n  }\n\n  ulElemRef.innerHTML = '';\n\n  const query = e.target.search.value.trim().split(' ').join('+');\n\n  getImages(query)\n    .then(result => {\n      if (result.hits.length) {\n        const cards = result.hits.map(hit => createCard(hit)).join('');\n        appendCards(ulElemRef, cards);\n        gallery.refresh();\n      } else {\n        iziToast.show({\n          title: 'Warning',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: 'yellow',\n        });\n      }\n    })\n    .catch(error => {\n      iziToast.show({\n        title: 'Error',\n        message: 'Sorry, trouble happend. Please try again later!',\n        position: 'topRight',\n        color: 'red',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}\n\nlet gallery = new SimpleLightbox('.card-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\ngallery.on('show.simplelightbox');\n"],"names":["createCard","webformatURL","largeImageURL","tags","likes","views","comments","downloads","appendCards","ulElem","cards","loaderRef","showLoader","hideLoader","params","url","getImages","query","res","formRef","ulElemRef","e","handleSubmit","iziToast","result","hit","gallery","error","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAAa,CAAC,CACzB,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,IACS;AAAA;AAAA;AAAA,oCAG2BL,CAAa;AAAA,qBAC5BD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gEAKkBC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA;AAAA,SAOhEC,EAAc,CAACC,EAAQC,IAAU,CAC5CD,EAAO,mBAAmB,aAAcC,CAAK,CAC/C,EAEMC,EAAY,SAAS,cAAc,SAAS,EAE3C,SAASC,GAAa,CAC3BD,EAAU,MAAM,QAAU,OAC5B,CAEO,SAASE,GAAa,CAC3BF,EAAU,MAAM,QAAU,MAC5B,CCtCA,MAAMG,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,EACd,CAAC,EAEKC,EAAM,4BAA4BD,CAAM,GAE/B,SAASE,EAAUC,EAAO,CACvC,OAAAL,IACO,MAAM,GAAGG,CAAG,MAAME,CAAK,EAAE,EAAE,KAAKC,GAAO,CAC5C,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCVA,MAAMC,EAAU,SAAS,cAAc,cAAc,EACpC,SAAS,cAAc,eAAe,EACvD,MAAMC,EAAY,SAAS,cAAc,cAAc,EAEvDD,EAAQ,iBAAiB,SAAUE,GAAKC,EAAaD,CAAC,CAAC,EAEvD,SAASC,EAAaD,EAAG,CAGvB,GAFAA,EAAE,eAAc,EAEZ,CAACA,EAAE,OAAO,OAAO,MAAM,KAAI,EAAI,CACjCE,EAAS,KAAK,CACZ,MAAO,UACP,QAAS,yBACT,SAAU,WACV,MAAO,KACb,CAAK,EACD,MACD,CAEDH,EAAU,UAAY,GAEtB,MAAMH,EAAQI,EAAE,OAAO,OAAO,MAAM,KAAM,EAAC,MAAM,GAAG,EAAE,KAAK,GAAG,EAE9DL,EAAUC,CAAK,EACZ,KAAKO,GAAU,CACd,GAAIA,EAAO,KAAK,OAAQ,CACtB,MAAMd,EAAQc,EAAO,KAAK,IAAIC,GAAOzB,EAAWyB,CAAG,CAAC,EAAE,KAAK,EAAE,EAC7DjB,EAAYY,EAAWV,CAAK,EAC5BgB,EAAQ,QAAO,CACvB,MACQH,EAAS,KAAK,CACZ,MAAO,UACP,QACE,2EACF,SAAU,WACV,MAAO,QACjB,CAAS,CAET,CAAK,EACA,MAAMI,GAAS,CACdJ,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,kDACT,SAAU,WACV,MAAO,KACf,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbV,GACN,CAAK,CACL,CAEA,IAAIa,EAAU,IAAIE,EAAe,aAAc,CAC7C,aAAc,MACd,aAAc,GAChB,CAAC,EAEDF,EAAQ,GAAG,qBAAqB"}